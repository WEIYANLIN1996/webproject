webpackJsonp([24],{"0950caf96a8627cfae43":function(e,t,n){"use strict";function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.align,a=void 0===i?"auto":i,u=n.reflow,o=void 0===u||u,d=n.push,l=void 0===d?{}:d;try{e.style.width=t.offsetWidth+"px",e=e.getBoundingClientRect(),t=t.getBoundingClientRect()}catch(e){throw new Error('Both "target" and "anchor" must be DOM elements')}l=(0,s.default)(r,l);var c=t.top+t.height+l.y,h={bottom:-1*(window.innerHeight-(c+e.height)),top:-1*(t.top-l.y-e.height)};o&&h.bottom>0&&h.bottom>h.top&&(c=t.top-e.height-l.y);var p=t.left>window.innerWidth/2,f=!p,m=void 0;return"left"===a||"auto"===a&&f?m=t.left+l.x:("right"===a||"auto"===a&&p)&&(m=t.right-e.width-l.x),{top:c+window.pageYOffset,left:m+window.pageXOffset,width:t.width}}Object.defineProperty(t,"__esModule",{value:!0});var a=n("b365af20d4e02cb0aa22"),s=function(e){return e&&e.__esModule?e:{default:e}}(a),r={x:0,y:0};t.default=i},"4601c6561497033f0a3f":function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n("a1dbdaf952c6713f6eae"),s=i(a),r=n("db53d0530a402eb04daa"),u=i(r),o=n("acab2ae8d55fd58113d8"),d=i(o),l=n("0bf817924258aa08734c"),c=i(l),h=n("6553b3a5ed93e7108556"),p=n("a8f8105d2d40178f277f"),f=i(p),m=n("0950caf96a8627cfae43"),b=i(m),v=n("eb70c94528d9a523ea12"),g=i(v),x=["zh-cn","zh-hk","zh-mo","zh-sg","zh-tw","ko","ja","th"],w={tab:9,enter:13,esc:27,up:38,down:40},y=function(){function e(t){(0,d.default)(this,e),this.input=t,this.panel=document.createElement("zd-autocomplete"),this.timer=void 0,this.cache={},this.results=[],this.index=-1,this.input.addEventListener("blur",this.onBlur.bind(this)),this.input.addEventListener("input",this.onInput.bind(this)),this.input.addEventListener("keydown",this.onKeydown.bind(this)),this.panel.addEventListener("mousedown",this.onMousedown.bind(this)),this.panel.addEventListener("mouseover",this.onMouseover.bind(this)),this.panel.addEventListener("touchstart",this.onMouseover.bind(this)),this.panel.addEventListener("touchend",this.onMousedown.bind(this))}return(0,c.default)(e,[{key:"set",value:function(e){var t=e.index,n=void 0===t?this.index:t,i=e.results,a=void 0===i?this.results:i;this.index=n,this.results=a,this.render()}},{key:"onBlur",value:function(){this.set({results:[],index:-1})}},{key:"onInput",value:function(e){var t=this;this.timer&&clearTimeout(this.timer);var n=e.target.value;this.timer=setTimeout(function(){return t.search(n)},300)}},{key:"onKeydown",value:function(e){switch(e.keyCode){case w.enter:e.preventDefault(),this.select();break;case w.esc:e.preventDefault(),this.close();break;case w.up:e.preventDefault(),this.previous();break;case w.tab:this.results.length&&(e.preventDefault(),this.next());break;case w.down:e.preventDefault(),this.next()}}},{key:"onMousedown",value:function(e){"ZD-AUTOCOMPLETE-HEADER"===e.target.tagName&&e.preventDefault(),("ZD-AUTOCOMPLETE-OPTION"===e.target.tagName||"ZD-AUTOCOMPLETE-OPTION"===e.target.parentNode.tagName||e.target.tagName.includes("MULTIBRAND"))&&this.select()}},{key:"onMouseover",value:function(e){if("ZD-AUTOCOMPLETE-OPTION"===e.target.tagName||e.target.tagName.includes("MULTIBRAND")){var t=e.target.tabIndex;t!==this.index&&this.set({index:t})}}},{key:"select",value:function(){this.selected?g.default.assign(this.selected.url):this.input.form.submit(),this.set({results:[],index:-1})}},{key:"close",value:function(){this.set({results:[],index:-1})}},{key:"previous",value:function(){var e=this.index-1,t=e<-1?this.results.length-1:e;this.set({index:t})}},{key:"next",value:function(){var e=this.index+1,t=e>this.results.length-1?-1:e;this.set({index:t})}},{key:"search",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,u.default)(s.default.mark(function e(t){var n,i,a,r,u,o,d,l=this;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.cache[t],i=function(e){return l.set({results:e,index:-1})},a=f.default.get("current_session.locale"),(r=function(e){return x.includes(a)&&e.length>=2||e.length>=3})(t)){e.next=7;break}return i([]),e.abrupt("return");case 7:if(!n){e.next=10;break}return i(n),e.abrupt("return");case 10:return e.prev=10,e.next=13,fetch("/hc/api/internal/instant_search.json?query="+encodeURIComponent(t)+"&locale="+a);case 13:if(u=e.sent,u.ok){e.next=16;break}throw new Error(u.statusText);case 16:return e.next=18,u.json();case 18:o=e.sent,d=o.results,this.cache[t]=d,i(d),e.next=26;break;case 24:e.prev=24,e.t0=e.catch(10);case 26:case"end":return e.stop()}},e,this,[[10,24]])}));return e}()},{key:"render",value:function(){var e=this;if(!this.results.length)return void(this.panel.parentNode&&this.panel.parentNode.removeChild(this.panel));var t=f.default.get("show_autocomplete_breadcrumbs"),n=this.results[0].multibrand;this.panel.innerHTML=n?this.results.map(function(t,n){return"Community"===t.parent_title?'<zd-autocomplete-multibrand aria-selected="'+(n===e.index)+'" tabindex="'+n+'">\n                    <zd-autocomplete-title-multibrand tabindex="'+n+'">'+t.title+'</zd-autocomplete-title-multibrand>\n                    <zd-autocomplete-breadcrumbs-multibrand tabindex="'+n+'"><zd-community-image-multibrand> \n                        <zd-autocomplete-community-breadcrumbs-multibrand tabindex="'+n+'">\n                          '+t.help_center+" > "+(0,h.t)("txt.help_center.views.shared.community.header")+" > "+t.section_or_topic+"\n                        </zd-autocomplete-community-breadcrumbs-multibrand> \n                    </zd-autocomplete-breadcrumbs-multibrand>\n                  </zd-autocomplete-multibrand>":'<zd-autocomplete-multibrand tabindex="'+n+'" aria-selected="'+(n===e.index)+'">\n                  <zd-autocomplete-title-multibrand tabindex="'+n+'">'+t.title+'</zd-autocomplete-title-multibrand>\n                  <zd-autocomplete-breadcrumbs-multibrand tabindex="'+n+'">\n                    '+t.help_center+" > "+t.parent_title+" > "+t.section_or_topic+"\n                  </zd-autocomplete-breadcrumbs-multibrand>\n                </zd-autocomplete-multibrand>"}).join(""):"\n        <zd-autocomplete-header>\n          "+(0,h.t)("txt.help_center.views.autocomplete.top_article_suggestions")+"\n        </zd-autocomplete-header>\n        "+this.results.map(function(n,i){return'\n          <zd-autocomplete-option tabindex="'+i+'" aria-selected="'+(i===e.index)+'" instant="true">\n            '+n.title+" "+(t?"<zd-autocomplete-breadcrumbs> - "+n.category_title+"</zd-autocomplete-breadcrumbs>":"")+"\n          </zd-autocomplete-option>"}).join("")+"\n      ",document.body.appendChild(this.panel);var i=(0,b.default)(this.panel,this.input,{push:{y:10}}),a=i.left,s=i.top,r=i.width;this.panel.setAttribute("style","\n      left: "+a+"px;\n      top: "+s+"px;\n      width: "+r+"px;\n    ")}},{key:"selected",get:function(){return this.results[this.index]}}]),e}();t.default=y},eb70c94528d9a523ea12:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={assign:function(e){window.location.assign(e)}}}});